---
import Layout from "@/layouts/Layout.astro";
import PinterestGallery from "@/components/PinterestGallery.astro";
import { getAllImages } from "@/data/galleryImages";
import { translations } from "@/i18n/translations";

const t = translations.es;

// Forzar SSG - Astro procesará esto durante el build
export async function getStaticPaths() {
    return [{ params: {} }];
}

// Obtener datos durante el build/render
const allImages = await getAllImages();

console.log("✅ Página galeria - Imágenes obtenidas:", allImages.length);
console.log("✅ Página galeria - Tipo:", typeof allImages);
console.log("✅ Página galeria - Es array?:", Array.isArray(allImages));
---

<Layout
    title={`${t.myWorks} - ${t.title}`}
    description={`${t.galleryDescription} - ${t.title}`}
>
    <PinterestGallery
        images={allImages}
        title={t.myWorks}
        closeText={t.closeButton}
    />
</Layout>
